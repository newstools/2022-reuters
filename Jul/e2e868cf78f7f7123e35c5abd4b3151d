NEW YORK, July 21 (Reuters) - A gauge of global stock markets rose for a fifth straight session while the euro edged up in choppy trading after the European Central Bank raised interest rates for the first time in more than a decade as it seeks to rein in inflation. The ECB had for weeks flagged a 25 basis point hike, until earlier this week, when sources told Reuters the central bank was weighing a bigger move. The central bank also introduced a bond protection plan, called the Transmission Protection Instrument (TPI), that is designed to cap borrowing costs across the region.  read more  The euro was up 0.27% to $1.0204 after reaching as high as 1.0278 as the currency whipsawed after the ECB announcement. The dollar index fell 0.28%. The TPI plan by the ECB is intended to help heavily indebted countries such as Italy, whose coalition government fell after the resignation of Prime Minister Mario Draghi.  read more  Stocks initially alternated between gains and losses before gaining traction, as U.S. equities were buffeted by a drop in crude prices which sent the energy sector (.SPNY) sharply lower but Tesla (.TSLA.O) surged 9.78% following its quarterly earnings. Growth (.IGX) shares outperformed to help buoy indexes. As the U.S. corporate earnings season rolls along, 91 companies in the benchmark S&P 500 index have reported quarterly results, with 78% topping expectations, according to Refinitiv data. That's slightly below the 81% beat rate for the past four quarters but well above the 66% rate since 1994. "Everyone was concerned about earnings, people were so depressed, the expectations were so low coming into earnings. It is too early to know for sure, but earnings are OK. They are probably not as bad as people were worried about so far," said Keith Lerner, chief market strategist at Truist Advisory Services in Atlanta, Georgia. The Dow Jones Industrial Average (.DJI) rose 162.06 points, or 0.51%, to 32,036.9, the S&P 500 (.SPX) gained 39.16 points, or 0.99%, to 3,999.06 and the Nasdaq Composite (.IXIC) added 161.96 points, or 1.36%, to 12,059.61. U.S. economic data was on the soft side with weekly initial jobless claims touching a fresh eight-month high and a gauge of factory activity in the mid-Atlantic region for July hitting its lowest in slightly over two years.  read more  The data comes ahead of the Federal Reserve's policy meeting next week, in which it is largely expected to hike rates by 75 basis points. "Rightly or wrongly, the market is starting to buy into the peak hawkish narrative which makes sense because there is enough data with Philly fed and initial claims, these things are suggesting, we can debate recession, but there is going to be a pretty notable slowdown," said Lerner. Benchmark 10-year notes last rose 36/32 in price to yield 2.9023%, from 3.036% late on Wednesday. The pan-European STOXX 600 index (.STOXX) closed up 0.44% and MSCI's gauge of stocks across the globe (.MIWD00000PUS) gained 0.77%. The Japanese yen strengthened 0.50% versus the greenback to 137.54 per dollar as the Bank of Japan remained an outlier among central banks and left its super-loose monetary policy unchanged on Thursday, as expected, and raised its inflation forecasts slightly. Sterling was last trading at $1.1974, up 0.04% on the day. Oil prices declined for a second straight session, after higher U.S. gasoline stockpiles and an ECB rate hike heightened demand worries and returning oil supply from Libya along with the resumption of Russian gas flows eased supply concerns.  read more  U.S. crude settled down 3.53% at $96.35 per barrel and Brent settled at $103.86, down 2.86% on the day. Our Standards: The Thomson Reuters Trust Principles.